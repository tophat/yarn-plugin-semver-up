/* eslint-disable */
module.exports = {
name: "@yarnpkg/plugin-semver-up",
factory: function (require) {var plugin;(()=>{var e={110:(e,t,r)=>{"use strict";const s=r(633),n=r(273),o=r(274),i=r(626),a=(e,t={})=>{let r=[];if(Array.isArray(e))for(let s of e){let e=a.create(s,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(a.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};a.parse=(e,t={})=>i(e,t),a.stringify=(e,t={})=>s("string"==typeof e?a.parse(e,t):e,t),a.compile=(e,t={})=>("string"==typeof e&&(e=a.parse(e,t)),n(e,t)),a.expand=(e,t={})=>{"string"==typeof e&&(e=a.parse(e,t));let r=o(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},a.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?a.compile(e,t):a.expand(e,t),e.exports=a},273:(e,t,r)=>{"use strict";const s=r(618),n=r(183);e.exports=(e,t={})=>{let r=(e,o={})=>{let i=n.isInvalidBrace(o),a=!0===e.invalid&&!0===t.escapeInvalid,l=!0===i||!0===a,u=!0===t.escapeInvalid?"\\":"",p="";if(!0===e.isOpen)return u+e.value;if(!0===e.isClose)return u+e.value;if("open"===e.type)return l?u+e.value:"(";if("close"===e.type)return l?u+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":l?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=n.reduce(e.nodes),o=s(...r,{...t,wrap:!1,toRegex:!0});if(0!==o.length)return r.length>1&&o.length>1?`(${o})`:o}if(e.nodes)for(let t of e.nodes)p+=r(t,e);return p};return r(e)}},151:e=>{"use strict";e.exports={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"Â ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},274:(e,t,r)=>{"use strict";const s=r(618),n=r(633),o=r(183),i=(e="",t="",r=!1)=>{let s=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?o.flatten(t).map(e=>`{${e}}`):t;for(let n of e)if(Array.isArray(n))for(let e of n)s.push(i(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),s.push(Array.isArray(e)?i(n,e,r):n+e);return o.flatten(s)};e.exports=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,l={})=>{e.queue=[];let u=l,p=l.queue;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)u=u.parent,p=u.queue;if(e.invalid||e.dollar)return void p.push(i(p.pop(),n(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void p.push(i(p.pop(),["{}"]));if(e.nodes&&e.ranges>0){let a=o.reduce(e.nodes);if(o.exceedsLimit(...a,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=s(...a,t);return 0===l.length&&(l=n(e,t)),p.push(i(p.pop(),l)),void(e.nodes=[])}let c=o.encloseBrace(e),h=e.queue,f=e;for(;"brace"!==f.type&&"root"!==f.type&&f.parent;)f=f.parent,h=f.queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];"comma"!==r.type||"brace"!==e.type?"close"!==r.type?r.value&&"open"!==r.type?h.push(i(h.pop(),r.value)):r.nodes&&a(r,e):p.push(i(p.pop(),h,c)):(1===t&&h.push(""),h.push(""))}return h};return o.flatten(a(e))}},626:(e,t,r)=>{"use strict";const s=r(633),{MAX_LENGTH:n,CHAR_BACKSLASH:o,CHAR_BACKTICK:i,CHAR_COMMA:a,CHAR_DOT:l,CHAR_LEFT_PARENTHESES:u,CHAR_RIGHT_PARENTHESES:p,CHAR_LEFT_CURLY_BRACE:c,CHAR_RIGHT_CURLY_BRACE:h,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_RIGHT_SQUARE_BRACKET:E,CHAR_DOUBLE_QUOTE:g,CHAR_SINGLE_QUOTE:R,CHAR_NO_BREAK_SPACE:A,CHAR_ZERO_WIDTH_NOBREAK_SPACE:d}=r(151);e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let r=t||{},v="number"==typeof r.maxLength?Math.min(n,r.maxLength):n;if(e.length>v)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${v})`);let m,y={type:"root",input:e,nodes:[]},_=[y],S=y,C=y,$=0,x=e.length,T=0,I=0;const b=()=>e[T++],O=e=>{if("text"===e.type&&"dot"===C.type&&(C.type="text"),!C||"text"!==C.type||"text"!==e.type)return S.nodes.push(e),e.parent=S,e.prev=C,C=e,e;C.value+=e.value};for(O({type:"bos"});T<x;)if(S=_[_.length-1],m=b(),m!==d&&m!==A)if(m!==o)if(m!==E)if(m!==f)if(m!==u)if(m!==p)if(m!==g&&m!==R&&m!==i)if(m!==c)if(m!==h)if(m===a&&I>0){if(S.ranges>0){S.ranges=0;let e=S.nodes.shift();S.nodes=[e,{type:"text",value:s(S)}]}O({type:"comma",value:m}),S.commas++}else if(m===l&&I>0&&0===S.commas){let e=S.nodes;if(0===I||0===e.length){O({type:"text",value:m});continue}if("dot"===C.type){if(S.range=[],C.value+=m,C.type="range",3!==S.nodes.length&&5!==S.nodes.length){S.invalid=!0,S.ranges=0,C.type="text";continue}S.ranges++,S.args=[];continue}if("range"===C.type){e.pop();let t=e[e.length-1];t.value+=C.value+m,C=t,S.ranges--;continue}O({type:"dot",value:m})}else O({type:"text",value:m});else{if("brace"!==S.type){O({type:"text",value:m});continue}let e="close";S=_.pop(),S.close=!0,O({type:e,value:m}),I--,S=_[_.length-1]}else{I++;let e=C.value&&"$"===C.value.slice(-1)||!0===S.dollar;S=O({type:"brace",open:!0,close:!1,dollar:e,depth:I,commas:0,ranges:0,nodes:[]}),_.push(S),O({type:"open",value:m})}else{let e,r=m;for(!0!==t.keepQuotes&&(m="");T<x&&(e=b());)if(e!==o){if(e===r){!0===t.keepQuotes&&(m+=e);break}m+=e}else m+=e+b();O({type:"text",value:m})}else{if("paren"!==S.type){O({type:"text",value:m});continue}S=_.pop(),O({type:"text",value:m}),S=_[_.length-1]}else S=O({type:"paren",nodes:[]}),_.push(S),O({type:"text",value:m});else{$++;let e;for(;T<x&&(e=b());)if(m+=e,e!==f)if(e!==o){if(e===E&&($--,0===$))break}else m+=b();else $++;O({type:"text",value:m})}else O({type:"text",value:"\\"+m});else O({type:"text",value:(t.keepEscaping?m:"")+b()});do{if(S=_.pop(),"root"!==S.type){S.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});let e=_[_.length-1],t=e.nodes.indexOf(S);e.nodes.splice(t,1,...S.nodes)}}while(_.length>0);return O({type:"eos"}),y}},633:(e,t,r)=>{"use strict";const s=r(183);e.exports=(e,t={})=>{let r=(e,n={})=>{let o=t.escapeInvalid&&s.isInvalidBrace(n),i=!0===e.invalid&&!0===t.escapeInvalid,a="";if(e.value)return(o||i)&&s.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)a+=r(t);return a};return r(e)}},183:(e,t)=>{"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find(e=>e.type===t),t.exceedsLimit=(e,r,s=1,n)=>!1!==n&&(!(!t.isInteger(e)||!t.isInteger(r))&&(Number(r)-Number(e))/Number(s)>=n),t.escapeNode=(e,t=0,r)=>{let s=e.nodes[t];s&&(r&&s.type===r||"open"===s.type||"close"===s.type)&&!0!==s.escaped&&(s.value="\\"+s.value,s.escaped=!0)},t.encloseBrace=e=>"brace"===e.type&&(e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0)),t.isInvalidBrace=e=>"brace"===e.type&&(!(!0!==e.invalid&&!e.dollar)||(e.commas>>0+e.ranges>>0==0||!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0)),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||(!0===e.open||!0===e.close),t.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),t.flatten=(...e)=>{const t=[],r=e=>{for(let s=0;s<e.length;s++){let n=e[s];Array.isArray(n)?r(n,t):void 0!==n&&t.push(n)}return t};return r(e),t}},618:(e,t,r)=>{"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const s=r(669),n=r(716),o=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),i=e=>"number"==typeof e||"string"==typeof e&&""!==e,a=e=>Number.isInteger(+e),l=e=>{let t=""+e,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},u=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},p=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},c=(e,t,r,s)=>{if(r)return n(e,t,{wrap:!1,...s});let o=String.fromCharCode(e);return e===t?o:`[${o}-${String.fromCharCode(t)}]`},h=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,s=r.capture?"":"?:";return t?`(${s}${e.join("|")})`:e.join("|")}return n(e,t,r)},f=(...e)=>new RangeError("Invalid range arguments: "+s.inspect(...e)),E=(e,t,r)=>{if(!0===r.strictRanges)throw f([e,t]);return[]},g=(e,t,r=1,s={})=>{let n=Number(e),o=Number(t);if(!Number.isInteger(n)||!Number.isInteger(o)){if(!0===s.strictRanges)throw f([e,t]);return[]}0===n&&(n=0),0===o&&(o=0);let i=n>o,a=String(e),E=String(t),g=String(r);r=Math.max(Math.abs(r),1);let R=l(a)||l(E)||l(g),A=R?Math.max(a.length,E.length,g.length):0,d=!1===R&&!1===((e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify)(e,t,s),v=s.transform||(e=>t=>!0===e?Number(t):String(t))(d);if(s.toRegex&&1===r)return c(p(e,A),p(t,A),!0,s);let m={negatives:[],positives:[]},y=[],_=0;for(;i?n>=o:n<=o;)!0===s.toRegex&&r>1?m[(S=n)<0?"negatives":"positives"].push(Math.abs(S)):y.push(u(v(n,_),A,d)),n=i?n-r:n+r,_++;var S;return!0===s.toRegex?r>1?((e,t)=>{e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let r,s=t.capture?"":"?:",n="",o="";return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(o=`-(${s}${e.negatives.join("|")})`),r=n&&o?`${n}|${o}`:n||o,t.wrap?`(${s}${r})`:r})(m,s):h(y,null,{wrap:!1,...s}):y},R=(e,t,r,s={})=>{if(null==t&&i(e))return[e];if(!i(e)||!i(t))return E(e,t,s);if("function"==typeof r)return R(e,t,1,{transform:r});if(o(r))return R(e,t,0,r);let n={...s};return!0===n.capture&&(n.wrap=!0),r=r||n.step||1,a(r)?a(e)&&a(t)?g(e,t,r,n):((e,t,r=1,s={})=>{if(!a(e)&&e.length>1||!a(t)&&t.length>1)return E(e,t,s);let n=s.transform||(e=>String.fromCharCode(e)),o=(""+e).charCodeAt(0),i=(""+t).charCodeAt(0),l=o>i,u=Math.min(o,i),p=Math.max(o,i);if(s.toRegex&&1===r)return c(u,p,!1,s);let f=[],g=0;for(;l?o>=i:o<=i;)f.push(n(o,g)),o=l?o-r:o+r,g++;return!0===s.toRegex?h(f,null,{wrap:!1,options:s}):f})(e,t,Math.max(Math.abs(r),1),n):null==r||o(r)?R(e,t,1,r):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(r,n)};e.exports=R},175:e=>{"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},105:(e,t,r)=>{"use strict";const s=r(529),n=Symbol("max"),o=Symbol("length"),i=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),p=Symbol("noDisposeOnSet"),c=Symbol("lruList"),h=Symbol("cache"),f=Symbol("updateAgeOnGet"),E=()=>1;const g=(e,t,r)=>{const s=e[h].get(t);if(s){const t=s.value;if(R(e,t)){if(d(e,s),!e[a])return}else r&&(e[f]&&(s.value.now=Date.now()),e[c].unshiftNode(s));return t.value}},R=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},A=e=>{if(e[o]>e[n])for(let t=e[c].tail;e[o]>e[n]&&null!==t;){const r=t.prev;d(e,t),t=r}},d=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[o]-=r.length,e[h].delete(r.key),e[c].removeNode(t)}};class v{constructor(e,t,r,s,n){this.key=e,this.value=t,this.length=r,this.now=s,this.maxAge=n||0}}const m=(e,t,r,s)=>{let n=r.value;R(e,n)&&(d(e,r),e[a]||(n=void 0)),n&&t.call(s,n.value,n.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[n]=e.max||1/0;const t=e.length||E;if(this[i]="function"!=typeof t?E:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[u]=e.dispose,this[p]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[n]=e||1/0,A(this)}get max(){return this[n]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,A(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=E),e!==this[i]&&(this[i]=e,this[o]=0,this[c].forEach(e=>{e.length=this[i](e.value,e.key),this[o]+=e.length})),A(this)}get lengthCalculator(){return this[i]}get length(){return this[o]}get itemCount(){return this[c].length}rforEach(e,t){t=t||this;for(let r=this[c].tail;null!==r;){const s=r.prev;m(this,e,r,t),r=s}}forEach(e,t){t=t||this;for(let r=this[c].head;null!==r;){const s=r.next;m(this,e,r,t),r=s}}keys(){return this[c].toArray().map(e=>e.key)}values(){return this[c].toArray().map(e=>e.value)}reset(){this[u]&&this[c]&&this[c].length&&this[c].forEach(e=>this[u](e.key,e.value)),this[h]=new Map,this[c]=new s,this[o]=0}dump(){return this[c].map(e=>!R(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[c]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const s=r?Date.now():0,a=this[i](t,e);if(this[h].has(e)){if(a>this[n])return d(this,this[h].get(e)),!1;const i=this[h].get(e).value;return this[u]&&(this[p]||this[u](e,i.value)),i.now=s,i.maxAge=r,i.value=t,this[o]+=a-i.length,i.length=a,this.get(e),A(this),!0}const f=new v(e,t,a,s,r);return f.length>this[n]?(this[u]&&this[u](e,t),!1):(this[o]+=f.length,this[c].unshift(f),this[h].set(e,this[c].head),A(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!R(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[c].tail;return e?(d(this,e),e.value):null}del(e){d(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const s=e[r],n=s.e||0;if(0===n)this.set(s.k,s.v);else{const e=n-t;e>0&&this.set(s.k,s.v,e)}}}prune(){this[h].forEach((e,t)=>g(this,t,!1))}}},461:(e,t,r)=>{"use strict";const s=r(669),n=r(110),o=r(173),i=r(689),a=e=>""===e||"./"===e,l=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let s=new Set,n=new Set,i=new Set,a=0,l=e=>{i.add(e.output),r&&r.onResult&&r.onResult(e)};for(let i=0;i<t.length;i++){let u=o(String(t[i]),{...r,onResult:l},!0),p=u.state.negated||u.state.negatedExtglob;p&&a++;for(let t of e){let e=u(t,!0);(p?!e.isMatch:e.isMatch)&&(p?s.add(e.output):(s.delete(e.output),n.add(e.output)))}}let u=(a===t.length?[...i]:[...n]).filter(e=>!s.has(e));if(r&&0===u.length){if(!0===r.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?t.map(e=>e.replace(/\\/g,"")):t}return u};l.match=l,l.matcher=(e,t)=>o(e,t),l.any=l.isMatch=(e,t,r)=>o(t,r)(e),l.not=(e,t,r={})=>{t=[].concat(t).map(String);let s=new Set,n=[],o=l(e,t,{...r,onResult:e=>{r.onResult&&r.onResult(e),n.push(e.output)}});for(let e of n)o.includes(e)||s.add(e);return[...s]},l.contains=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${s.inspect(e)}"`);if(Array.isArray(t))return t.some(t=>l.contains(e,t,r));if("string"==typeof t){if(a(e)||a(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return l.isMatch(e,t,{...r,contains:!0})},l.matchKeys=(e,t,r)=>{if(!i.isObject(e))throw new TypeError("Expected the first argument to be an object");let s=l(Object.keys(e),t,r),n={};for(let t of s)n[t]=e[t];return n},l.some=(e,t,r)=>{let s=[].concat(e);for(let e of[].concat(t)){let t=o(String(e),r);if(s.some(e=>t(e)))return!0}return!1},l.every=(e,t,r)=>{let s=[].concat(e);for(let e of[].concat(t)){let t=o(String(e),r);if(!s.every(e=>t(e)))return!1}return!0},l.all=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${s.inspect(e)}"`);return[].concat(t).every(t=>o(t,r)(e))},l.capture=(e,t,r)=>{let s=i.isWindows(r),n=o.makeRe(String(e),{...r,capture:!0}).exec(s?i.toPosixSlashes(t):t);if(n)return n.slice(1).map(e=>void 0===e?"":e)},l.makeRe=(...e)=>o.makeRe(...e),l.scan=(...e)=>o.scan(...e),l.parse=(e,t)=>{let r=[];for(let s of[].concat(e||[]))for(let e of n(String(s),t))r.push(o.parse(e,t));return r},l.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:n(e,t)},l.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return l.braces(e,{...t,expand:!0})},e.exports=l},173:(e,t,r)=>{"use strict";e.exports=r(843)},201:(e,t,r)=>{"use strict";const s=r(622),n={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},o={...n,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:s.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?o:n}},198:(e,t,r)=>{"use strict";const s=r(201),n=r(689),{MAX_LENGTH:o,POSIX_REGEX_SOURCE:i,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:l,REPLACEMENTS:u}=s,p=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},c=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,h=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=u[e]||e;const r={...t},h="number"==typeof r.maxLength?Math.min(o,r.maxLength):o;let f=e.length;if(f>h)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${h}`);const E={type:"bos",value:"",output:r.prepend||""},g=[E],R=r.capture?"":"?:",A=n.isWindows(t),d=s.globChars(A),v=s.extglobChars(d),{DOT_LITERAL:m,PLUS_LITERAL:y,SLASH_LITERAL:_,ONE_CHAR:S,DOTS_SLASH:C,NO_DOT:$,NO_DOT_SLASH:x,NO_DOTS_SLASH:T,QMARK:I,QMARK_NO_DOT:b,STAR:O,START_ANCHOR:L}=d,N=e=>`(${R}(?:(?!${L}${e.dot?C:m}).)*?)`,w=r.dot?"":$,H=r.dot?I:b;let P=!0===r.bash?N(r):O;r.capture&&(P=`(${P})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const k={input:e,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:g};e=n.removePrefix(e,k),f=e.length;const M=[],D=[],G=[];let U,F=E;const B=()=>k.index===f-1,X=k.peek=(t=1)=>e[k.index+t],j=k.advance=()=>e[++k.index],K=()=>e.slice(k.index+1),V=(e="",t=0)=>{k.consumed+=e,k.index+=t},W=e=>{k.output+=null!=e.output?e.output:e.value,V(e.value)},Q=()=>{let e=1;for(;"!"===X()&&("("!==X(2)||"?"===X(3));)j(),k.start++,e++;return e%2!=0&&(k.negated=!0,k.start++,!0)},q=e=>{k[e]++,G.push(e)},Z=e=>{k[e]--,G.pop()},Y=e=>{if("globstar"===F.type){const t=k.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||M.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(k.output=k.output.slice(0,-F.output.length),F.type="star",F.value="*",F.output=P,k.output+=F.output)}if(M.length&&"paren"!==e.type&&!v[e.value]&&(M[M.length-1].inner+=e.value),(e.value||e.output)&&W(e),F&&"text"===F.type&&"text"===e.type)return F.value+=e.value,void(F.output=(F.output||"")+e.value);e.prev=F,g.push(e),F=e},z=(e,t)=>{const s={...v[t],conditions:1,inner:""};s.prev=F,s.parens=k.parens,s.output=k.output;const n=(r.capture?"(":"")+s.open;q("parens"),Y({type:e,value:t,output:k.output?"":S}),Y({type:"paren",extglob:!0,value:j(),output:n}),M.push(s)},J=e=>{let t=e.close+(r.capture?")":"");if("negate"===e.type){let s=P;e.inner&&e.inner.length>1&&e.inner.includes("/")&&(s=N(r)),(s!==P||B()||/^\)+$/.test(K()))&&(t=e.close=")$))"+s),"bos"===e.prev.type&&(k.negatedExtglob=!0)}Y({type:"paren",extglob:!0,value:U,output:t}),Z("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let s=!1,o=e.replace(l,(e,t,r,n,o,i)=>"\\"===n?(s=!0,e):"?"===n?t?t+n+(o?I.repeat(o.length):""):0===i?H+(o?I.repeat(o.length):""):I.repeat(r.length):"."===n?m.repeat(r.length):"*"===n?t?t+n+(o?P:""):P:t?e:"\\"+e);return!0===s&&(o=!0===r.unescape?o.replace(/\\/g,""):o.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),o===e&&!0===r.contains?(k.output=e,k):(k.output=n.wrapOutput(o,k,t),k)}for(;!B();){if(U=j(),"\0"===U)continue;if("\\"===U){const e=X();if("/"===e&&!0!==r.bash)continue;if("."===e||";"===e)continue;if(!e){U+="\\",Y({type:"text",value:U});continue}const t=/^\\+/.exec(K());let s=0;if(t&&t[0].length>2&&(s=t[0].length,k.index+=s,s%2!=0&&(U+="\\")),!0===r.unescape?U=j()||"":U+=j()||"",0===k.brackets){Y({type:"text",value:U});continue}}if(k.brackets>0&&("]"!==U||"["===F.value||"[^"===F.value)){if(!1!==r.posix&&":"===U){const e=F.value.slice(1);if(e.includes("[")&&(F.posix=!0,e.includes(":"))){const e=F.value.lastIndexOf("["),t=F.value.slice(0,e),r=F.value.slice(e+2),s=i[r];if(s){F.value=t+s,k.backtrack=!0,j(),E.output||1!==g.indexOf(F)||(E.output=S);continue}}}("["===U&&":"!==X()||"-"===U&&"]"===X())&&(U="\\"+U),"]"!==U||"["!==F.value&&"[^"!==F.value||(U="\\"+U),!0===r.posix&&"!"===U&&"["===F.value&&(U="^"),F.value+=U,W({value:U});continue}if(1===k.quotes&&'"'!==U){U=n.escapeRegex(U),F.value+=U,W({value:U});continue}if('"'===U){k.quotes=1===k.quotes?0:1,!0===r.keepQuotes&&Y({type:"text",value:U});continue}if("("===U){q("parens"),Y({type:"paren",value:U});continue}if(")"===U){if(0===k.parens&&!0===r.strictBrackets)throw new SyntaxError(c("opening","("));const e=M[M.length-1];if(e&&k.parens===e.parens+1){J(M.pop());continue}Y({type:"paren",value:U,output:k.parens?")":"\\)"}),Z("parens");continue}if("["===U){if(!0!==r.nobracket&&K().includes("]"))q("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(c("closing","]"));U="\\"+U}Y({type:"bracket",value:U});continue}if("]"===U){if(!0===r.nobracket||F&&"bracket"===F.type&&1===F.value.length){Y({type:"text",value:U,output:"\\"+U});continue}if(0===k.brackets){if(!0===r.strictBrackets)throw new SyntaxError(c("opening","["));Y({type:"text",value:U,output:"\\"+U});continue}Z("brackets");const e=F.value.slice(1);if(!0===F.posix||"^"!==e[0]||e.includes("/")||(U="/"+U),F.value+=U,W({value:U}),!1===r.literalBrackets||n.hasRegexChars(e))continue;const t=n.escapeRegex(F.value);if(k.output=k.output.slice(0,-F.value.length),!0===r.literalBrackets){k.output+=t,F.value=t;continue}F.value=`(${R}${t}|${F.value})`,k.output+=F.value;continue}if("{"===U&&!0!==r.nobrace){q("braces");const e={type:"brace",value:U,output:"(",outputIndex:k.output.length,tokensIndex:k.tokens.length};D.push(e),Y(e);continue}if("}"===U){const e=D[D.length-1];if(!0===r.nobrace||!e){Y({type:"text",value:U,output:U});continue}let t=")";if(!0===e.dots){const e=g.slice(),s=[];for(let t=e.length-1;t>=0&&(g.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&s.unshift(e[t].value);t=p(s,r),k.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const r=k.output.slice(0,e.outputIndex),s=k.tokens.slice(e.tokensIndex);e.value=e.output="\\{",U=t="\\}",k.output=r;for(const e of s)k.output+=e.output||e.value}Y({type:"brace",value:U,output:t}),Z("braces"),D.pop();continue}if("|"===U){M.length>0&&M[M.length-1].conditions++,Y({type:"text",value:U});continue}if(","===U){let e=U;const t=D[D.length-1];t&&"braces"===G[G.length-1]&&(t.comma=!0,e="|"),Y({type:"comma",value:U,output:e});continue}if("/"===U){if("dot"===F.type&&k.index===k.start+1){k.start=k.index+1,k.consumed="",k.output="",g.pop(),F=E;continue}Y({type:"slash",value:U,output:_});continue}if("."===U){if(k.braces>0&&"dot"===F.type){"."===F.value&&(F.output=m);const e=D[D.length-1];F.type="dots",F.output+=U,F.value+=U,e.dots=!0;continue}if(k.braces+k.parens===0&&"bos"!==F.type&&"slash"!==F.type){Y({type:"text",value:U,output:m});continue}Y({type:"dot",value:U,output:m});continue}if("?"===U){if(!(F&&"("===F.value)&&!0!==r.noextglob&&"("===X()&&"?"!==X(2)){z("qmark",U);continue}if(F&&"paren"===F.type){const e=X();let t=U;if("<"===e&&!n.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===F.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(K()))&&(t="\\"+U),Y({type:"text",value:U,output:t});continue}if(!0!==r.dot&&("slash"===F.type||"bos"===F.type)){Y({type:"qmark",value:U,output:b});continue}Y({type:"qmark",value:U,output:I});continue}if("!"===U){if(!0!==r.noextglob&&"("===X()&&("?"!==X(2)||!/[!=<:]/.test(X(3)))){z("negate",U);continue}if(!0!==r.nonegate&&0===k.index){Q();continue}}if("+"===U){if(!0!==r.noextglob&&"("===X()&&"?"!==X(2)){z("plus",U);continue}if(F&&"("===F.value||!1===r.regex){Y({type:"plus",value:U,output:y});continue}if(F&&("bracket"===F.type||"paren"===F.type||"brace"===F.type)||k.parens>0){Y({type:"plus",value:U});continue}Y({type:"plus",value:y});continue}if("@"===U){if(!0!==r.noextglob&&"("===X()&&"?"!==X(2)){Y({type:"at",extglob:!0,value:U,output:""});continue}Y({type:"text",value:U});continue}if("*"!==U){"$"!==U&&"^"!==U||(U="\\"+U);const e=a.exec(K());e&&(U+=e[0],k.index+=e[0].length),Y({type:"text",value:U});continue}if(F&&("globstar"===F.type||!0===F.star)){F.type="star",F.star=!0,F.value+=U,F.output=P,k.backtrack=!0,k.globstar=!0,V(U);continue}let t=K();if(!0!==r.noextglob&&/^\([^?]/.test(t)){z("star",U);continue}if("star"===F.type){if(!0===r.noglobstar){V(U);continue}const s=F.prev,n=s.prev,o="slash"===s.type||"bos"===s.type,i=n&&("star"===n.type||"globstar"===n.type);if(!0===r.bash&&(!o||t[0]&&"/"!==t[0])){Y({type:"star",value:U,output:""});continue}const a=k.braces>0&&("comma"===s.type||"brace"===s.type),l=M.length&&("pipe"===s.type||"paren"===s.type);if(!o&&"paren"!==s.type&&!a&&!l){Y({type:"star",value:U,output:""});continue}for(;"/**"===t.slice(0,3);){const r=e[k.index+4];if(r&&"/"!==r)break;t=t.slice(3),V("/**",3)}if("bos"===s.type&&B()){F.type="globstar",F.value+=U,F.output=N(r),k.output=F.output,k.globstar=!0,V(U);continue}if("slash"===s.type&&"bos"!==s.prev.type&&!i&&B()){k.output=k.output.slice(0,-(s.output+F.output).length),s.output="(?:"+s.output,F.type="globstar",F.output=N(r)+(r.strictSlashes?")":"|$)"),F.value+=U,k.globstar=!0,k.output+=s.output+F.output,V(U);continue}if("slash"===s.type&&"bos"!==s.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";k.output=k.output.slice(0,-(s.output+F.output).length),s.output="(?:"+s.output,F.type="globstar",F.output=`${N(r)}${_}|${_}${e})`,F.value+=U,k.output+=s.output+F.output,k.globstar=!0,V(U+j()),Y({type:"slash",value:"/",output:""});continue}if("bos"===s.type&&"/"===t[0]){F.type="globstar",F.value+=U,F.output=`(?:^|${_}|${N(r)}${_})`,k.output=F.output,k.globstar=!0,V(U+j()),Y({type:"slash",value:"/",output:""});continue}k.output=k.output.slice(0,-F.output.length),F.type="globstar",F.output=N(r),F.value+=U,k.output+=F.output,k.globstar=!0,V(U);continue}const s={type:"star",value:U,output:P};!0!==r.bash?!F||"bracket"!==F.type&&"paren"!==F.type||!0!==r.regex?(k.index!==k.start&&"slash"!==F.type&&"dot"!==F.type||("dot"===F.type?(k.output+=x,F.output+=x):!0===r.dot?(k.output+=T,F.output+=T):(k.output+=w,F.output+=w),"*"!==X()&&(k.output+=S,F.output+=S)),Y(s)):(s.output=U,Y(s)):(s.output=".*?","bos"!==F.type&&"slash"!==F.type||(s.output=w+s.output),Y(s))}for(;k.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(c("closing","]"));k.output=n.escapeLast(k.output,"["),Z("brackets")}for(;k.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(c("closing",")"));k.output=n.escapeLast(k.output,"("),Z("parens")}for(;k.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(c("closing","}"));k.output=n.escapeLast(k.output,"{"),Z("braces")}if(!0===r.strictSlashes||"star"!==F.type&&"bracket"!==F.type||Y({type:"maybe_slash",value:"",output:_+"?"}),!0===k.backtrack){k.output="";for(const e of k.tokens)k.output+=null!=e.output?e.output:e.value,e.suffix&&(k.output+=e.suffix)}return k};h.fastpaths=(e,t)=>{const r={...t},i="number"==typeof r.maxLength?Math.min(o,r.maxLength):o,a=e.length;if(a>i)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${i}`);e=u[e]||e;const l=n.isWindows(t),{DOT_LITERAL:p,SLASH_LITERAL:c,ONE_CHAR:h,DOTS_SLASH:f,NO_DOT:E,NO_DOTS:g,NO_DOTS_SLASH:R,STAR:A,START_ANCHOR:d}=s.globChars(l),v=r.dot?g:E,m=r.dot?R:E,y=r.capture?"":"?:";let _=!0===r.bash?".*?":A;r.capture&&(_=`(${_})`);const S=e=>!0===e.noglobstar?_:`(${y}(?:(?!${d}${e.dot?f:p}).)*?)`,C=e=>{switch(e){case"*":return`${v}${h}${_}`;case".*":return`${p}${h}${_}`;case"*.*":return`${v}${_}${p}${h}${_}`;case"*/*":return`${v}${_}${c}${h}${m}${_}`;case"**":return v+S(r);case"**/*":return`(?:${v}${S(r)}${c})?${m}${h}${_}`;case"**/*.*":return`(?:${v}${S(r)}${c})?${m}${_}${p}${h}${_}`;case"**/.*":return`(?:${v}${S(r)}${c})?${p}${h}${_}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const r=C(t[1]);if(!r)return;return r+p+t[2]}}},$=n.removePrefix(e,{negated:!1,prefix:""});let x=C($);return x&&!0!==r.strictSlashes&&(x+=c+"?"),x},e.exports=h},843:(e,t,r)=>{"use strict";const s=r(622),n=r(148),o=r(198),i=r(689),a=r(201),l=(e,t,r=!1)=>{if(Array.isArray(e)){const s=e.map(e=>l(e,t,r));return e=>{for(const t of s){const r=t(e);if(r)return r}return!1}}const s=(n=e)&&"object"==typeof n&&!Array.isArray(n)&&e.tokens&&e.input;var n;if(""===e||"string"!=typeof e&&!s)throw new TypeError("Expected pattern to be a non-empty string");const o=t||{},a=i.isWindows(t),u=s?l.compileRe(e,t):l.makeRe(e,t,!1,!0),p=u.state;delete u.state;let c=()=>!1;if(o.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};c=l(o.ignore,e,r)}const h=(r,s=!1)=>{const{isMatch:n,match:i,output:h}=l.test(r,u,t,{glob:e,posix:a}),f={glob:e,state:p,regex:u,posix:a,input:r,output:h,match:i,isMatch:n};return"function"==typeof o.onResult&&o.onResult(f),!1===n?(f.isMatch=!1,!!s&&f):c(r)?("function"==typeof o.onIgnore&&o.onIgnore(f),f.isMatch=!1,!!s&&f):("function"==typeof o.onMatch&&o.onMatch(f),!s||f)};return r&&(h.state=p),h};l.test=(e,t,r,{glob:s,posix:n}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const o=r||{},a=o.format||(n?i.toPosixSlashes:null);let u=e===s,p=u&&a?a(e):e;return!1===u&&(p=a?a(e):e,u=p===s),!1!==u&&!0!==o.capture||(u=!0===o.matchBase||!0===o.basename?l.matchBase(e,t,r,n):t.exec(p)),{isMatch:Boolean(u),match:u,output:p}},l.matchBase=(e,t,r,n=i.isWindows(r))=>(t instanceof RegExp?t:l.makeRe(t,r)).test(s.basename(e)),l.isMatch=(e,t,r)=>l(t,r)(e),l.parse=(e,t)=>Array.isArray(e)?e.map(e=>l.parse(e,t)):o(e,{...t,fastpaths:!1}),l.scan=(e,t)=>n(e,t),l.compileRe=(e,t,r=!1,s=!1)=>{if(!0===r)return e.output;const n=t||{},o=n.contains?"":"^",i=n.contains?"":"$";let a=`${o}(?:${e.output})${i}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const u=l.toRegex(a,t);return!0===s&&(u.state=e),u},l.makeRe=(e,t,r=!1,s=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");const n=t||{};let i,a={negated:!1,fastpaths:!0},u="";return e.startsWith("./")&&(e=e.slice(2),u=a.prefix="./"),!1===n.fastpaths||"."!==e[0]&&"*"!==e[0]||(i=o.fastpaths(e,t)),void 0===i?(a=o(e,t),a.prefix=u+(a.prefix||"")):a.output=i,l.compileRe(a,t,r,s)},l.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},l.constants=a,e.exports=l},148:(e,t,r)=>{"use strict";const s=r(689),{CHAR_ASTERISK:n,CHAR_AT:o,CHAR_BACKWARD_SLASH:i,CHAR_COMMA:a,CHAR_DOT:l,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:p,CHAR_LEFT_CURLY_BRACE:c,CHAR_LEFT_PARENTHESES:h,CHAR_LEFT_SQUARE_BRACKET:f,CHAR_PLUS:E,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:R,CHAR_RIGHT_PARENTHESES:A,CHAR_RIGHT_SQUARE_BRACKET:d}=r(201),v=e=>e===p||e===i,m=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};e.exports=(e,t)=>{const r=t||{},y=e.length-1,_=!0===r.parts||!0===r.scanToEnd,S=[],C=[],$=[];let x,T,I=e,b=-1,O=0,L=0,N=!1,w=!1,H=!1,P=!1,k=!1,M=!1,D=!1,G=!1,U=!1,F=0,B={value:"",depth:0,isGlob:!1};const X=()=>b>=y,j=()=>(x=T,I.charCodeAt(++b));for(;b<y;){let e;if(T=j(),T!==i){if(!0===M||T===c){for(F++;!0!==X()&&(T=j());)if(T!==i)if(T!==c){if(!0!==M&&T===l&&(T=j())===l){if(N=B.isBrace=!0,H=B.isGlob=!0,U=!0,!0===_)continue;break}if(!0!==M&&T===a){if(N=B.isBrace=!0,H=B.isGlob=!0,U=!0,!0===_)continue;break}if(T===R&&(F--,0===F)){M=!1,N=B.isBrace=!0,U=!0;break}}else F++;else D=B.backslashes=!0,j();if(!0===_)continue;break}if(T!==p){if(!0!==r.noext){if(!0===(T===E||T===o||T===n||T===g||T===u)&&I.charCodeAt(b+1)===h){if(H=B.isGlob=!0,P=B.isExtglob=!0,U=!0,!0===_){for(;!0!==X()&&(T=j());)if(T!==i){if(T===A){H=B.isGlob=!0,U=!0;break}}else D=B.backslashes=!0,T=j();continue}break}}if(T===n){if(x===n&&(k=B.isGlobstar=!0),H=B.isGlob=!0,U=!0,!0===_)continue;break}if(T===g){if(H=B.isGlob=!0,U=!0,!0===_)continue;break}if(T===f){for(;!0!==X()&&(e=j());)if(e!==i){if(e===d){w=B.isBracket=!0,H=B.isGlob=!0,U=!0;break}}else D=B.backslashes=!0,j();if(!0===_)continue;break}if(!0===r.nonegate||T!==u||b!==O){if(!0!==r.noparen&&T===h){if(H=B.isGlob=!0,!0===_){for(;!0!==X()&&(T=j());)if(T!==h){if(T===A){U=!0;break}}else D=B.backslashes=!0,T=j();continue}break}if(!0===H){if(U=!0,!0===_)continue;break}}else G=B.negated=!0,O++}else{if(S.push(b),C.push(B),B={value:"",depth:0,isGlob:!1},!0===U)continue;if(x===l&&b===O+1){O+=2;continue}L=b+1}}else D=B.backslashes=!0,T=j(),T===c&&(M=!0)}!0===r.noext&&(P=!1,H=!1);let K=I,V="",W="";O>0&&(V=I.slice(0,O),I=I.slice(O),L-=O),K&&!0===H&&L>0?(K=I.slice(0,L),W=I.slice(L)):!0===H?(K="",W=I):K=I,K&&""!==K&&"/"!==K&&K!==I&&v(K.charCodeAt(K.length-1))&&(K=K.slice(0,-1)),!0===r.unescape&&(W&&(W=s.removeBackslashes(W)),K&&!0===D&&(K=s.removeBackslashes(K)));const Q={prefix:V,input:e,start:O,base:K,glob:W,isBrace:N,isBracket:w,isGlob:H,isExtglob:P,isGlobstar:k,negated:G};if(!0===r.tokens&&(Q.maxDepth=0,v(T)||C.push(B),Q.tokens=C),!0===r.parts||!0===r.tokens){let t;for(let s=0;s<S.length;s++){const n=t?t+1:O,o=S[s],i=e.slice(n,o);r.tokens&&(0===s&&0!==O?(C[s].isPrefix=!0,C[s].value=V):C[s].value=i,m(C[s]),Q.maxDepth+=C[s].depth),0===s&&""===i||$.push(i),t=o}if(t&&t+1<e.length){const s=e.slice(t+1);$.push(s),r.tokens&&(C[C.length-1].value=s,m(C[C.length-1]),Q.maxDepth+=C[C.length-1].depth)}Q.slashes=S,Q.parts=$}return Q}},689:(e,t,r)=>{"use strict";const s=r(622),n="win32"===process.platform,{REGEX_BACKSLASH:o,REGEX_REMOVE_BACKSLASH:i,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:l}=r(201);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>a.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(l,"\\$1"),t.toPosixSlashes=e=>e.replace(o,"/"),t.removeBackslashes=e=>e.replace(i,e=>"\\"===e?"":e),t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===n||"\\"===s.sep,t.escapeLast=(e,r,s)=>{const n=e.lastIndexOf(r,s);return-1===n?e:"\\"===e[n-1]?t.escapeLast(e,r,n-1):`${e.slice(0,n)}\\${e.slice(n)}`},t.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},t.wrapOutput=(e,t={},r={})=>{let s=`${r.contains?"":"^"}(?:${e})${r.contains?"":"$"}`;return!0===t.negated&&(s=`(?:^(?!${s}).*$)`),s}},258:(e,t,r)=>{const s=Symbol("SemVer ANY");class n{static get ANY(){return s}constructor(e,t){if(t=o(t),e instanceof n){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===s?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?i[a.COMPARATORLOOSE]:i[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new p(r[2],this.options.loose):this.semver=s}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===s||e===s)return!0;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new c(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new c(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),s=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=l(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=l(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||s||o&&i||a||u}}e.exports=n;const o=r(628),{re:i,t:a}=r(702),l=r(798),u=r(225),p=r(926),c=r(414)},414:(e,t,r)=>{class s{constructor(e,t){if(t=o(t),e instanceof s)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new s(e.raw,t);if(e instanceof i)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!E(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=n.get(t);if(r)return r;const s=this.options.loose,o=s?u[p.HYPHENRANGELOOSE]:u[p.HYPHENRANGE];e=e.replace(o,T(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[p.COMPARATORTRIM],c),a("comparator trim",e,u[p.COMPARATORTRIM]),e=(e=(e=e.replace(u[p.TILDETRIM],h)).replace(u[p.CARETTRIM],f)).split(/\s+/).join(" ");const l=s?u[p.COMPARATORLOOSE]:u[p.COMPARATOR],g=e.split(" ").map(e=>A(e,this.options)).join(" ").split(/\s+/).map(e=>x(e,this.options)).filter(this.options.loose?e=>!!e.match(l):()=>!0).map(e=>new i(e,this.options)),R=(g.length,new Map);for(const e of g){if(E(e))return[e];R.set(e.value,e)}R.size>1&&R.has("")&&R.delete("");const d=[...R.values()];return n.set(t,d),d}intersects(e,t){if(!(e instanceof s))throw new TypeError("a Range is required");return this.set.some(r=>R(r,t)&&e.set.some(e=>R(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(I(this.set[t],e,this.options))return!0;return!1}}e.exports=s;const n=new(r(105))({max:1e3}),o=r(628),i=r(258),a=r(225),l=r(926),{re:u,t:p,comparatorTrimReplace:c,tildeTrimReplace:h,caretTrimReplace:f}=r(702),E=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,R=(e,t)=>{let r=!0;const s=e.slice();let n=s.pop();for(;r&&s.length;)r=s.every(e=>n.intersects(e,t)),n=s.pop();return r},A=(e,t)=>(a("comp",e,t),e=y(e,t),a("caret",e),e=v(e,t),a("tildes",e),e=S(e,t),a("xrange",e),e=$(e,t),a("stars",e),e),d=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map(e=>m(e,t)).join(" "),m=(e,t)=>{const r=t.loose?u[p.TILDELOOSE]:u[p.TILDE];return e.replace(r,(t,r,s,n,o)=>{let i;return a("tilde",e,t,r,s,n,o),d(r)?i="":d(s)?i=`>=${r}.0.0 <${+r+1}.0.0-0`:d(n)?i=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:o?(a("replaceTilde pr",o),i=`>=${r}.${s}.${n}-${o} <${r}.${+s+1}.0-0`):i=`>=${r}.${s}.${n} <${r}.${+s+1}.0-0`,a("tilde return",i),i})},y=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{a("caret",e,t);const r=t.loose?u[p.CARETLOOSE]:u[p.CARET],s=t.includePrerelease?"-0":"";return e.replace(r,(t,r,n,o,i)=>{let l;return a("caret",e,t,r,n,o,i),d(r)?l="":d(n)?l=`>=${r}.0.0${s} <${+r+1}.0.0-0`:d(o)?l="0"===r?`>=${r}.${n}.0${s} <${r}.${+n+1}.0-0`:`>=${r}.${n}.0${s} <${+r+1}.0.0-0`:i?(a("replaceCaret pr",i),l="0"===r?"0"===n?`>=${r}.${n}.${o}-${i} <${r}.${n}.${+o+1}-0`:`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${o}-${i} <${+r+1}.0.0-0`):(a("no pr"),l="0"===r?"0"===n?`>=${r}.${n}.${o}${s} <${r}.${n}.${+o+1}-0`:`>=${r}.${n}.${o}${s} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${o} <${+r+1}.0.0-0`),a("caret return",l),l})},S=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();const r=t.loose?u[p.XRANGELOOSE]:u[p.XRANGE];return e.replace(r,(r,s,n,o,i,l)=>{a("xRange",e,r,s,n,o,i,l);const u=d(n),p=u||d(o),c=p||d(i),h=c;return"="===s&&h&&(s=""),l=t.includePrerelease?"-0":"",u?r=">"===s||"<"===s?"<0.0.0-0":"*":s&&h?(p&&(o=0),i=0,">"===s?(s=">=",p?(n=+n+1,o=0,i=0):(o=+o+1,i=0)):"<="===s&&(s="<",p?n=+n+1:o=+o+1),"<"===s&&(l="-0"),r=`${s+n}.${o}.${i}${l}`):p?r=`>=${n}.0.0${l} <${+n+1}.0.0-0`:c&&(r=`>=${n}.${o}.0${l} <${n}.${+o+1}.0-0`),a("xRange return",r),r})},$=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[p.STAR],"")),x=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),T=e=>(t,r,s,n,o,i,a,l,u,p,c,h,f)=>`${r=d(s)?"":d(n)?`>=${s}.0.0${e?"-0":""}`:d(o)?`>=${s}.${n}.0${e?"-0":""}`:i?">="+r:`>=${r}${e?"-0":""}`} ${l=d(u)?"":d(p)?`<${+u+1}.0.0-0`:d(c)?`<${u}.${+p+1}.0-0`:h?`<=${u}.${p}.${c}-${h}`:e?`<${u}.${p}.${+c+1}-0`:"<="+l}`.trim(),I=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==i.ANY&&e[r].semver.prerelease.length>0){const s=e[r].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}},926:(e,t,r)=>{const s=r(225),{MAX_LENGTH:n,MAX_SAFE_INTEGER:o}=r(615),{re:i,t:a}=r(702),l=r(628),{compareIdentifiers:u}=r(413);class p{constructor(e,t){if(t=l(t),e instanceof p){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError(`version is longer than ${n} characters`);s("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?i[a.LOOSE]:i[a.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(s("SemVer.compare",this.version,this.options,e),!(e instanceof p)){if("string"==typeof e&&e===this.version)return 0;e=new p(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof p||(e=new p(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof p||(e=new p(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if(s("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return u(r,n)}while(++t)}compareBuild(e){e instanceof p||(e=new p(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if(s("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return u(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}e.exports=p},798:(e,t,r)=>{const s=r(640),n=r(147),o=r(993),i=r(860),a=r(299),l=r(730);e.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return s(e,r,u);case"!=":return n(e,r,u);case">":return o(e,r,u);case">=":return i(e,r,u);case"<":return a(e,r,u);case"<=":return l(e,r,u);default:throw new TypeError("Invalid operator: "+t)}}},77:(e,t,r)=>{const s=r(926);e.exports=(e,t,r)=>new s(e,r).compare(new s(t,r))},483:(e,t,r)=>{const s=r(787),n=r(640);e.exports=(e,t)=>{if(n(e,t))return null;{const r=s(e),n=s(t),o=r.prerelease.length||n.prerelease.length,i=o?"pre":"",a=o?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==n[e])return i+e;return a}}},640:(e,t,r)=>{const s=r(77);e.exports=(e,t,r)=>0===s(e,t,r)},993:(e,t,r)=>{const s=r(77);e.exports=(e,t,r)=>s(e,t,r)>0},860:(e,t,r)=>{const s=r(77);e.exports=(e,t,r)=>s(e,t,r)>=0},299:(e,t,r)=>{const s=r(77);e.exports=(e,t,r)=>s(e,t,r)<0},730:(e,t,r)=>{const s=r(77);e.exports=(e,t,r)=>s(e,t,r)<=0},147:(e,t,r)=>{const s=r(77);e.exports=(e,t,r)=>0!==s(e,t,r)},787:(e,t,r)=>{const{MAX_LENGTH:s}=r(615),{re:n,t:o}=r(702),i=r(926),a=r(628);e.exports=(e,t)=>{if(t=a(t),e instanceof i)return e;if("string"!=typeof e)return null;if(e.length>s)return null;if(!(t.loose?n[o.LOOSE]:n[o.FULL]).test(e))return null;try{return new i(e,t)}catch(e){return null}}},615:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},225:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},413:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const s=t.test(e),n=t.test(r);return s&&n&&(e=+e,r=+r),e===r?0:s&&!n?-1:n&&!s?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},628:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter(t=>e[t]).reduce((e,t)=>(e[t]=!0,e),{}):{}},702:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:s}=r(615),n=r(225),o=(t=e.exports={}).re=[],i=t.src=[],a=t.t={};let l=0;const u=(e,t,r)=>{const s=l++;n(s,t),a[e]=s,i[s]=t,o[s]=new RegExp(t,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})\\.(${i[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})\\.(${i[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${i[a.NUMERICIDENTIFIER]}|${i[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${i[a.NUMERICIDENTIFIERLOOSE]}|${i[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${i[a.PRERELEASEIDENTIFIER]}(?:\\.${i[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${i[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${i[a.BUILDIDENTIFIER]}(?:\\.${i[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${i[a.MAINVERSION]}${i[a.PRERELEASE]}?${i[a.BUILD]}?`),u("FULL",`^${i[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${i[a.MAINVERSIONLOOSE]}${i[a.PRERELEASELOOSE]}?${i[a.BUILD]}?`),u("LOOSE",`^${i[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",i[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),u("XRANGEIDENTIFIER",i[a.NUMERICIDENTIFIER]+"|x|X|\\*"),u("XRANGEPLAIN",`[v=\\s]*(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:\\.(${i[a.XRANGEIDENTIFIER]})(?:${i[a.PRERELEASE]})?${i[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[a.XRANGEIDENTIFIERLOOSE]})(?:${i[a.PRERELEASELOOSE]})?${i[a.BUILD]}?)?)?`),u("XRANGE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${i[a.GTLT]}\\s*${i[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?(?:$|[^\\d])`),u("COERCERTL",i[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${i[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${i[a.LONETILDE]}${i[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${i[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${i[a.LONECARET]}${i[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${i[a.LONECARET]}${i[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${i[a.GTLT]}\\s*(${i[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${i[a.GTLT]}\\s*(${i[a.LOOSEPLAIN]}|${i[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${i[a.XRANGEPLAIN]})\\s+-\\s+(${i[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${i[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},51:(e,t,r)=>{const s=r(926),n=r(414),o=r(993);e.exports=(e,t)=>{e=new n(e,t);let r=new s("0.0.0");if(e.test(r))return r;if(r=new s("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let i=null;n.forEach(e=>{const t=new s(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!o(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}),!i||r&&!o(r,i)||(r=i)}return r&&e.test(r)?r:null}},716:(e,t,r)=>{"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const s=r(175),n=(e,t,r)=>{if(!1===s(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===s(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let o={relaxZeros:!0,...r};"boolean"==typeof o.strictZeros&&(o.relaxZeros=!1===o.strictZeros);let l=e+":"+t+"="+String(o.relaxZeros)+String(o.shorthand)+String(o.capture)+String(o.wrap);if(n.cache.hasOwnProperty(l))return n.cache[l].result;let u=Math.min(e,t),p=Math.max(e,t);if(1===Math.abs(u-p)){let r=e+"|"+t;return o.capture?`(${r})`:!1===o.wrap?r:`(?:${r})`}let c=E(e)||E(t),h={min:e,max:t,a:u,b:p},f=[],g=[];if(c&&(h.isPadded=c,h.maxLen=String(h.max).length),u<0){g=i(p<0?Math.abs(p):1,Math.abs(u),h,o),u=h.a=0}return p>=0&&(f=i(u,p,h,o)),h.negatives=g,h.positives=f,h.result=function(e,t,r){let s=a(e,t,"-",!1,r)||[],n=a(t,e,"",!1,r)||[],o=a(e,t,"-?",!0,r)||[];return s.concat(o).concat(n).join("|")}(g,f,o),!0===o.capture?h.result=`(${h.result})`:!1!==o.wrap&&f.length+g.length>1&&(h.result=`(?:${h.result})`),n.cache[l]=h,h.result};function o(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let s=function(e,t){let r=[];for(let s=0;s<e.length;s++)r.push([e[s],t[s]]);return r}(e,t),n=s.length,o="",i=0;for(let e=0;e<n;e++){let[t,n]=s[e];t===n?o+=t:"0"!==t||"9"!==n?o+=f(t,n,r):i++}return i&&(o+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:o,count:[i],digits:n}}function i(e,t,r,s){let n,i=function(e,t){let r=1,s=1,n=p(e,r),o=new Set([t]);for(;e<=n&&n<=t;)o.add(n),r+=1,n=p(e,r);for(n=c(t+1,s)-1;e<n&&n<=t;)o.add(n),s+=1,n=c(t+1,s)-1;return o=[...o],o.sort(l),o}(e,t),a=[],u=e;for(let e=0;e<i.length;e++){let t=i[e],l=o(String(u),String(t),s),p="";r.isPadded||!n||n.pattern!==l.pattern?(r.isPadded&&(p=g(t,r,s)),l.string=p+l.pattern+h(l.count),a.push(l),u=t+1,n=l):(n.count.length>1&&n.count.pop(),n.count.push(l.count[0]),n.string=n.pattern+h(n.count),u=t+1)}return a}function a(e,t,r,s,n){let o=[];for(let n of e){let{string:e}=n;s||u(t,"string",e)||o.push(r+e),s&&u(t,"string",e)&&o.push(r+e)}return o}function l(e,t){return e>t?1:t>e?-1:0}function u(e,t,r){return e.some(e=>e[t]===r)}function p(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function c(e,t){return e-e%Math.pow(10,t)}function h(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function f(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function E(e){return/^-?(0+)\d/.test(e)}function g(e,t,r){if(!t.isPadded)return e;let s=Math.abs(t.maxLen-String(e).length),n=!1!==r.relaxZeros;switch(s){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${s}}`:`0{${s}}`}}n.cache={},n.clearCache=()=>n.cache={},e.exports=n},3:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},529:(e,t,r)=>{"use strict";function s(e){var t=this;if(t instanceof s||(t=new s),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function n(e,t,r){var s=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===s.next&&(e.tail=s),null===s.prev&&(e.head=s),e.length++,s}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,s){if(!(this instanceof a))return new a(e,t,r,s);this.list=s,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=s,s.Node=a,s.create=s,s.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},s.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},s.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},s.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},s.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},s.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},s.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},s.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,s=0;null!==r;s++)e.call(t,r.value,s,this),r=r.next},s.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,s=this.length-1;null!==r;s--)e.call(t,r.value,s,this),r=r.prev},s.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},s.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},s.prototype.map=function(e,t){t=t||this;for(var r=new s,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},s.prototype.mapReverse=function(e,t){t=t||this;for(var r=new s,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},s.prototype.reduce=function(e,t){var r,s=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");s=this.head.next,r=this.head.value}for(var n=0;null!==s;n++)r=e(r,s.value,n),s=s.next;return r},s.prototype.reduceReverse=function(e,t){var r,s=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");s=this.tail.prev,r=this.tail.value}for(var n=this.length-1;null!==s;n--)r=e(r,s.value,n),s=s.prev;return r},s.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},s.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},s.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new s;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;for(;null!==o&&n<t;n++,o=o.next)r.push(o.value);return r},s.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new s;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,o=this.tail;null!==o&&n>t;n--)o=o.prev;for(;null!==o&&n>e;n--,o=o.prev)r.push(o.value);return r},s.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var s=0,o=this.head;null!==o&&s<e;s++)o=o.next;var i=[];for(s=0;o&&s<t;s++)i.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(s=0;s<r.length;s++)o=n(this,o,r[s]);return i},s.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var s=r.prev;r.prev=r.next,r.next=s}return this.head=t,this.tail=e,this};try{r(3)(s)}catch(e){}},622:e=>{"use strict";e.exports=require("path")},669:e=>{"use strict";e.exports=require("util")}},t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{"use strict";r.r(s),r.d(s,{default:()=>E});const e=require("@yarnpkg/core"),t=require("@yarnpkg/fslib"),n=require("@yarnpkg/plugin-essentials"),o=require("clipanion");var i=r(461),a=r.n(i),l=r(483),u=r.n(l),p=r(51),c=r.n(p);const h={maxPackageUpdates:!1,preserveSemVerRange:!0};class f extends o.Command{constructor(){super(...arguments),this.configFilename=o.Option.String("--config","semver-up.json"),this.changesetFilename=o.Option.String("--changeset",{required:!1}),this.dryRun=o.Option.Boolean("--dry-run",!1),this.preserveSemVerRange=o.Option.Boolean("--preserve-semver",!0),this.ruleGlobs=o.Option.Rest()}async execute(){try{const t=await e.Configuration.find(this.context.cwd,this.context.plugins),{project:r}=await e.Project.find(t,this.context.cwd),s=await e.Cache.find(t);await r.restoreInstallState();const n=await this.parseConfigFile(),o=r.topLevelWorkspace,i=async e=>{const i=await e.startTimerPromise("Processing Semver Up Rules",{skipIfEmpty:!1},async()=>this.getRulesWithPackages({config:n,workspace:o})),a=await e.startTimerPromise("Finding Updates",{skipIfEmpty:!1},async()=>this.findUpdateCandidates({workspace:o,rulesWithPackages:i,cache:s,configuration:t,report:e})),l=await e.startTimerPromise("Staging Updates",{skipIfEmpty:!1},async()=>this.applyUpdates({config:n,workspace:o,rulesWithUpdates:a,report:e}));await e.startTimerPromise("Writing Changeset File",{skipIfEmpty:!0},async()=>{await this.writeChangeset({changeset:l})}),this.dryRun||await r.install({cache:s,report:e})};if("-"===this.changesetFilename){try{await i(new e.ThrowReport)}catch(e){return 1}return 0}return(await e.StreamReport.start({configuration:t,stdout:this.context.stdout},i)).exitCode()}catch(e){return this.context.stderr.write(String(e)+"\n"),1}}async parseConfigFile(){var r,s,n;const o=t.ppath.resolve(t.ppath.cwd(),t.npath.toPortablePath(this.configFilename));let i={};try{i=e.miscUtils.dynamicRequireNoCache(o)}catch(e){i={rules:[["*",{}]]}}const a={rules:(null!==(r=null==i?void 0:i.rules)&&void 0!==r?r:[]).map(([e,t])=>[e,{...h,preserveSemVerRange:this.preserveSemVerRange,...t}]),maxRulesApplied:null!==(s=null==i?void 0:i.maxRulesApplied)&&void 0!==s?s:1,skipManifestOnlyChanges:null!==(n=null==i?void 0:i.skipManifestOnlyChanges)&&void 0!==n&&n};if(this.ruleGlobs.length){a.rules=[],a.maxRulesApplied=!1;for(const e of this.ruleGlobs)a.rules.push([e,{...h,preserveSemVerRange:this.preserveSemVerRange}])}return a}async getRulesWithPackages({config:t,workspace:r}){const s=r.manifest,n=t.rules.map(([e,t])=>[e,{rule:t,packages:new Set}]),o=[...s.dependencies.entries(),...s.devDependencies.entries()];for(const[t,r]of o){const s=n.find(([t])=>a()([e.structUtils.stringifyIdent(r)],t).length>0);s&&s[1].packages.add(t)}return n}async findUpdateCandidates({workspace:t,rulesWithPackages:r,cache:s,configuration:o,report:i}){const a=new Map([...t.manifest.dependencies.entries(),...t.manifest.devDependencies.entries()]),l=new Map;for(const[u,{rule:p,packages:c}]of r){const r=new Map,h=e.StreamReport.progressViaCounter(c.size),f=i.reportProgress(h);for(const i of c){const l=a.get(i);if(!l){h.tick();continue}const u=e.structUtils.parseRange(l.range);if(!(null===u.protocol&&"npm:"===o.get("defaultProtocol")||"npm:"===u.protocol)){h.tick();continue}const c=e.structUtils.convertToIdent(l),f=await n.suggestUtils.fetchDescriptorFrom(c,p.preserveSemVerRange?null==l?void 0:l.range:"latest",{project:t.project,workspace:t,preserveModifier:!0,cache:s});f&&l.range!==f.range&&r.set(c.identHash,f),h.tick()}r.size&&l.set(u,r),await f}return l}getInstalledVersion({descriptorHash:e,project:t}){const r=t.storedResolutions.get(e);if(r){const e=t.storedPackages.get(r);if(e)return e.version}return null}extractVersionFromRange(e){const t=c()(e,{loose:!0});return t?t.version:e}getUpdateType({fromVersion:e,toVersion:t}){if(!e||!t)return null;try{return u()(e,t,{loose:!0})}catch(e){return null}}async applyUpdates({config:t,rulesWithUpdates:r,workspace:s,report:n}){const o=new Map,i=new Map(t.rules);let a=0;for(const[l,u]of r.entries()){const r=i.get(l);if(!r)continue;if(t.maxRulesApplied&&a>=t.maxRulesApplied)break;let p=0;for(const[i,a]of u.entries()){if(r.maxPackageUpdates&&p>=r.maxPackageUpdates)break;const u=e.structUtils.stringifyIdent(e.structUtils.convertToIdent(a)),c=s.dependencies.get(i);if(!c)continue;const h=e.structUtils.parseRange(c.range).selector,f=e.structUtils.parseRange(a.range).selector,E=this.getInstalledVersion({descriptorHash:c.descriptorHash,project:s.project}),g=this.extractVersionFromRange(f);if(E!==g||!t.skipManifestOnlyChanges){o.set(u,{fromRange:h,toRange:f,fromVersion:E,toVersion:g,updateType:this.getUpdateType({fromVersion:E,toVersion:g})}),n.reportInfo(e.MessageName.UNNAMED,`[${l}] ${u}: ${h} -> ${f}`);for(const e of["dependencies","devDependencies"])s.manifest.getForScope(e).has(i)&&s.manifest.getForScope(e).set(i,a);this.dryRun||s.project.forgetResolution(c),p+=1}}p&&(a+=1)}return o}async writeChangeset({changeset:e}){if(!this.changesetFilename)return;const r={};for(const[t,s]of e.entries())r[t]={from_version:s.fromVersion,from_range:s.fromRange,to_version:s.toVersion,to_range:s.toRange,update_type:s.updateType,release_notes:null};const s=JSON.stringify(r,null,2);if("-"===this.changesetFilename)this.context.stdout.write(s);else{const e=t.ppath.resolve(t.ppath.cwd(),t.npath.toPortablePath(this.changesetFilename));await t.xfs.writeFilePromise(e,s,{encoding:"utf8"})}}}f.paths=[["semver","up"]],f.usage=o.Command.Usage({description:"",details:"",examples:[]});const E={hooks:{},commands:[f]}})(),plugin=s})();return plugin;
}
};